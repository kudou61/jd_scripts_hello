name: Sync Fork

on:
  push: 
  schedule:
    - cron: '6 */12 * * *'
jobs:
  repo-sync:
    runs-on: ubuntu-latest
    steps:
      - uses: TG908/fork-sync@v1.1
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          owner: JDHelloWorld
          head: main
          base: main
      - uses: TG908/fork-sync@v1.1
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          owner: JDHelloWorld
          head: main # fork 上游项目需要同步的分支
          base: dev # 本项目的目标分支

#      - uses: actions/checkout@v2
#        with:
#          token: ${{ secrets.GITHUB_TOKEN }}
#      - run: git pull
#      - run: git checkout dev
#      - run: git config --global user.email "kudou6111@gmail.com"&&git config --global user.name "kudou6111"
#      - run: git merge origin/main --allow-unrelated-histories
